<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>Charles C.D. – Guides</title><link>http://docs.charlescd.io/v1.0.x/pt/guides/</link><description>Recent content in Guides on Charles C.D.</description><generator>Hugo -- gohugo.io</generator><atom:link href="http://docs.charlescd.io/v1.0.x/pt/guides/index.xml" rel="self" type="application/rss+xml"/><item><title>Guides: Caso de Uso</title><link>http://docs.charlescd.io/v1.0.x/pt/guides/caso-de-uso/</link><pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate><guid>http://docs.charlescd.io/v1.0.x/pt/guides/caso-de-uso/</guid><description>
&lt;hr>
&lt;h2>Circles Sample&lt;/h2>
&lt;p>Circles Sample é uma aplicação desenvolvida pelo nosso time para que você possa implantá-la em um ambiente de testes e conhecer melhor sobre o conceito de &lt;strong>deploy em círculos&lt;/strong>. Além disso, ela pode ser utilizada para entender como configurar o chart template da sua aplicação.&lt;/p>
&lt;div class="alert alert-info" role="alert">
Para reproduzir este caso de uso é necessário que você já tenha um workspace definido, para saber mais &lt;a href="../../../../../../primeiros-passos/definindo-workspace/">&lt;strong>veja essa seção&lt;/strong>&lt;/a>
&lt;/div>
&lt;p>O caso de uso se baseia nos seguintes passos:&lt;/p>
&lt;ol>
&lt;li>Cadastro do Circles Sample no Charles;&lt;/li>
&lt;li>Implantação de uma versão em um círculo;&lt;/li>
&lt;li>Configuração para acesso ao Circles Sample através do seu cluster de Kubernetes;&lt;/li>
&lt;li>Teste da aplicação utilizando círculos diferentes.&lt;/li>
&lt;/ol>
&lt;h3>Cadastrando o Circles Sample nos seus módulos&lt;/h3>
&lt;p>O projeto está disponibilizado no &lt;a href="http://github.com/zupit/charlescd">&lt;strong>repositório&lt;/strong>&lt;/a> oficial, para fazer o cadastro do módulo, siga as configurações abaixo:&lt;/p>
&lt;div class="alert alert-warning" role="alert">
É necessário um passo anterior onde seja feito upload da imagem da aplicação no seu &lt;a href="../../../../../primeiros-passos/definindo-workspace/docker-registry">&lt;strong>registry&lt;/strong>&lt;/a> cadastrado.
&lt;/div>
&lt;p>&lt;img src="//screen-shot-2020-08-12-at-17.34.57.png" alt="">&lt;/p>
&lt;p>Para acessar o chart template do Circles Sample,&lt;a href="https://api.github.com/repos/zupit/charlescd/contents/samples/circles"> &lt;strong>clique aqui&lt;/strong>&lt;/a>. Caso tenha dúvida sobre essa configuração, veja a &lt;a href="../../../../primeiros-passos/criando-seu-primeiro-modulo/configurando-o-chart-template">&lt;strong>referência com um passo-a-passo&lt;/strong>&lt;/a>.&lt;/p>
&lt;h3>Implantando uma versão no círculo Default&lt;/h3>
&lt;p>Para implantar o exemplo no círculo default, siga os passos:&lt;/p>
&lt;ol>
&lt;li>Vá até o menu &lt;strong>Circles&lt;/strong> e marque o filtro &lt;strong>Inactive&lt;/strong>;&lt;/li>
&lt;li>Selecione o círculo &lt;strong>Default&lt;/strong>;&lt;/li>
&lt;li>Clique em &lt;strong>Insert release&lt;/strong> e escolha a opção &lt;strong>Create Release&lt;/strong>.&lt;/li>
&lt;/ol>
&lt;p>&lt;img src="//screen-shot-2020-08-12-at-18.11.44.png" alt="">&lt;/p>
&lt;div class="alert alert-info" role="alert">
No campo &lt;strong>Version name&lt;/strong> você deve informar o nome completo da release que você deseja utilizar.
&lt;/div>
&lt;h3>Expondo a aplicação&lt;/h3>
&lt;h4>Minikube&lt;/h4>
&lt;p>Para acessar a aplicação utilizando o Minikube, execute o &lt;code>minikube tunnel&lt;/code> e verifique se o &lt;strong>external-ip&lt;/strong> gerado para o Circles Sample é diferente de &lt;strong>127.0.0.1 (localhost)&lt;/strong>. Neste caso altere seu host conforme o exemplo abaixo:&lt;/p>
&lt;div class="highlight">&lt;pre style="background-color:#f8f8f8;-moz-tab-size:4;-o-tab-size:4;tab-size:4">&lt;code class="language-bash" data-lang="bash">&lt;span style="color:#8f5902;font-style:italic">#127.0.0.1 localhost&lt;/span>
&amp;lt;external-ip&amp;gt; localhost
&lt;/code>&lt;/pre>&lt;/div>&lt;h4>Cluster&lt;/h4>
&lt;p>Caso a instalação tenha sido feita em outro ambiente garanta que o Circles Sample esteja no mesmo domínio do &lt;code>moove&lt;/code>.&lt;/p>
&lt;h3>Acessando Circles Sample&lt;/h3>
&lt;p>Acesse &lt;a href="http://localhost:8080">http://localhost:8080&lt;/a>&lt;/p>
&lt;p>&lt;img src="//screen-shot-2020-08-12-at-21.48.08.png" alt="">&lt;/p>
&lt;p>Ao acessar a tela do circles sample, você precisa preencher um formulário para que o sample consiga acessar a API do &lt;code>moove&lt;/code> e listar os círculos do workspace que você definiu. Veja abaixo como:&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Insert URL Moove:&lt;/strong> insira a API de acesso ao &lt;a href="../../../../#arquitetura-do-sistema">&lt;strong>moove&lt;/strong>&lt;/a>.&lt;/li>
&lt;li>&lt;strong>Authorization:&lt;/strong> informe o token de acesso a api do &lt;a href="../#arquitetura-do-sistema">&lt;strong>moove&lt;/strong>&lt;/a>. &lt;code>Bearer access-token&lt;/code>&lt;/li>
&lt;li>&lt;strong>Workspace ID:&lt;/strong> informe o id do workspace que você deseja acessar.&lt;/li>
&lt;/ul>
&lt;div class="alert alert-info" role="alert">
Essas informações podem ser obtidas no header de alguma requisição como, por exemplo, listagem de círculos, hipóteses, etc. Ou na aba de cookies do browser.
&lt;/div>
&lt;p>Agora, você pode criar círculos e identificar em qual círculo o usuário vai entrar dado um determinado payload, como nas imagens abaixo:&lt;/p>
&lt;p>&lt;img src="//screen-shot-2020-08-12-at-22.18.35.png" alt="">&lt;/p>
&lt;p>&lt;img src="//screen-shot-2020-08-12-at-22.20.44.png" alt="">&lt;/p></description></item></channel></rss>